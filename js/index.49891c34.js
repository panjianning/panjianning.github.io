import{a as e,t,f as s,o as a,g as i,h as n,n as r,i as l,j as d,e as o,k as h,l as u,u as c,m as g,p as m,q as p,s as f,v,b as y,w as b,x as w,y as _,z as x,A as z,F as $,B as I,c as C,C as G,I as k,D as j,E as q}from"./main.9bf4d3cc.js";import{_ as H,H as R,a as B}from"./lang.vue_vue_type_script_setup_true_name_lang_lang.8f2afefb.js";import{I as E,_ as M}from"./axios.fcc81f98.js";const L=e({name:"Grid",provide(){return{GridInstance:this}},props:{col:{type:Number,default:3},square:{type:Boolean,default:!1},padding:{type:String,default:"24px"},center:{type:Boolean,default:!1},border:{type:Boolean,default:!0},hover:{type:Boolean,default:!1}},data:()=>({resizeCount:0,handleResize:()=>{}}),computed:{classes(){return{"ivu-grid-center":this.center,"ivu-grid-border":this.border,"ivu-grid-hover":this.hover}}},methods:{onResize(){this.resizeCount++}},mounted(){this.handleResize=t(this.onResize,150,{leading:!1}),this.observer=s(),this.observer.listenTo(this.$refs.grid,this.handleResize)},beforeUnmount(){this.observer.removeListener(this.$refs.grid,this.handleResize)}},[["render",function(e,t,s,l,d,o){return a(),i("div",{class:r(["ivu-grid",o.classes]),ref:"grid"},[n(e.$slots,"default")],2)}]]);const P=e({name:"GridItem",inject:["GridInstance"],data:()=>({height:0}),computed:{col(){return this.GridInstance.col},square(){return this.GridInstance.square},styles(){const e={width:100/this.col+"%"};return this.height&&this.square&&(e.height=`${this.height}px`),e},mainStyles(){return{padding:this.GridInstance.padding}}},watch:{col(){l((()=>{this.handleChangeHeight()}))},square(){this.handleChangeHeight()},"GridInstance.resizeCount"(){this.handleChangeHeight()}},methods:{handleChangeHeight(){if(this.square){const e=this.$refs.col;this.height=parseFloat(d(e,"width"))}}},mounted(){this.handleChangeHeight()}},[["render",function(e,t,s,r,l,d){return a(),i("div",{class:"ivu-grid-item",style:h(d.styles),ref:"col"},[o("div",{class:"ivu-grid-item-main",style:h(d.mainStyles)},[n(e.$slots,"default")],4)],4)}]]),S={class:"logo"},F=["href"],T=[(e=>(j("data-v-5f808477"),e=e(),q(),e))((()=>o("img",{src:B,alt:"TinyGimp"},null,-1)))],W=["href"],A=["href"],D={class:"header"},N={class:"desc"},U=["href"],J=["href"],K=e(u({__name:"index",setup(e){c();const t=[{id:"cartoon-1",type:"text3d",tags:["cartoon"]},{id:"gold-1",type:"text3d",tags:["golden"]},{id:"cartoon-bevel-1",type:"text3d",tags:["cartoon"]},{id:"fire",type:"edit",tags:["fire"]}];for(let a of t)a.thumb||(a.thumb=`https://www.tinygimp.com/mystatic/thumb/${a.id}.png`);const s={},n=e=>"edit"==e.type?_(`edit/?id=${e.id}`):_(e.type+"/"+e.id)+"/",r=e=>{return t=this,a=null,i=function*(){return new Promise(((t,a)=>{null!=s[e]?t(s[e]):M.get(`https://www.tinygimp.com/mystatic/json/text3d/list/${e}.json`).then((a=>{let i=a.data;for(let e of i)e.thumb||(e.thumb=`https://www.tinygimp.com/mystatic/thumb/${e.id}.png`);s[e]=i,t(i)})).catch((e=>{a()}))}))},new Promise(((e,s)=>{var n=e=>{try{l(i.next(e))}catch(t){s(t)}},r=e=>{try{l(i.throw(e))}catch(t){s(t)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,r);l((i=i.apply(t,a)).next())}));var t,a,i},l=g([]),d=g(window.innerWidth),u=()=>{d.value=window.innerWidth},j=m((()=>Math.max(2,Math.floor(d.value/300)))),q=m((()=>{let e=Math.max(2,Math.floor(d.value/300));return`${Math.floor(d.value/e/2)}px`})),B=e=>{r(e).then((e=>{l.value=e})).catch((e=>{l.value=t}))};return p((()=>{window.addEventListener("resize",u),document.addEventListener("langChange",(e=>{B(e.detail.lang)}));let e=f();B(e)})),v((()=>{window.removeEventListener("resize",u)})),(e,t)=>{const s=G,r=R,d=k,u=E,c=P,g=L;return a(),i($,null,[y(r,null,{default:b((()=>[o("div",S,[o("a",{href:w(_)("")},T,8,F)]),o("div",null,[o("a",{href:w(_)("edit/"),target:"_blank"},[y(s,{icon:"ios-link",type:"text"},{default:b((()=>[o("span",null,x(e.$t("editor")),1)])),_:1})],8,W)]),o("div",null,[o("a",{href:w(_)("text3d/"),target:"_blank"},[y(s,{icon:"ios-link",type:"text"},{default:b((()=>[o("span",null,x(e.$t("text3dGenerator")),1)])),_:1})],8,A)]),o("div",null,[y(H)])])),_:1}),o("div",D,[o("div",N,x(e.$t("doc.title").split("|")[1]),1),o("a",{href:w(_)("edit/"),target:"_blank"},[y(s,{type:"success",class:"btn",size:"big",icon:"ios-link"},{default:b((()=>[z(x(e.$t("openEditor")),1)])),_:1})],8,U)]),y(g,{border:!0,hover:!0,col:w(j),padding:0},{default:b((()=>[(a(!0),i($,null,I(w(l),(e=>(a(),C(c,{class:"templateItem",key:e.id,style:h("height:"+w(q))},{default:b((()=>[o("a",{href:n(e),target:"_blank",style:h("height:"+w(q))},[y(u,{src:e.thumb,fit:"contain",width:"100%",height:w(q),alt:e.id,lazy:""},{error:b((()=>[y(d,{type:"ios-image-outline",size:"24",color:"#ccc"})])),_:2},1032,["src","height","alt"])],12,J)])),_:2},1032,["style"])))),128))])),_:1},8,["col"])],64)}}}),[["__scopeId","data-v-5f808477"]]);export{K as default};
