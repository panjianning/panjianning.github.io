import{f as e,u as t,g as a,h as l,A as n,i as s,B as i,C as o,D as r,E as d,G as c,j as u,k as m,o as h,l as p,b as g,w as v,e as f,m as _,n as w,t as y,H as b,p as k,F as x,q as $,c as E,s as j,v as z,x as I,I as M,y as G,z as T,a as C}from"./main.8fab6d7f.js";import{I as L,G as H,a as W}from"./image.f66a6f44.js";import{_ as q,H as A,a as B}from"./lang.vue_vue_type_script_setup_true_name_lang_lang.0c4f2d33.js";const D=e=>(G("data-v-84aa0518"),e=e(),T(),e),F={class:"logo"},P=["href"],J=[D((()=>f("img",{src:B,alt:"TinyGimp"},null,-1)))],K=["href"],N=["href"],O={class:"header"},Q={class:"title"},R={class:"desc"},S=["href"],U={class:"mainImage"},V=["href"],X={key:0,class:"moreTemplate"},Y=["href"],Z=D((()=>f("div",{style:{height:"16px"}},null,-1))),ee=C(e({__name:"index",setup(e){const{t:G}=t(),T=e=>w("template/"+e.id)+"/",C=a([]),B=a([]),D=a(""),ee=a(""),te=a(""),ae=a(""),le=a(""),ne=a(window.innerWidth),se=()=>{ne.value=window.innerWidth},ie=l((()=>Math.max(2,Math.floor(ne.value/300)))),oe=l((()=>{let e=Math.max(2,Math.floor(ne.value/300));return`${Math.floor(ne.value/e/2)}px`})),re=e=>{z(e).then((e=>{let t=e;B.value.length>0&&(t=e.filter((e=>e.tags.some((e=>B.value.includes(e)))&&e.id!=D.value))),C.value=t})).catch((e=>{C.value=[]}))};return n.info(""),s((()=>{window.addEventListener("resize",se);let e=i("template");if(D.value=e,ee.value=`https://www.tinygimp.com/mystatic/thumb/${e}.png`,""!=e){let t=n.info({content:G("loading_template"),duration:0,closable:!0,background:!0});o.get(`https://www.tinygimp.com/mystatic/gimp/template/${e}.json`).then((a=>{r(t);let l=a.data;var n;if(te.value=l.title.split("|")[0],ae.value=l.description,le.value=(n={type:l.type,id:e},w(`${n.type}?id=${n.id}`)),document.title=l.title,document.documentElement.lang=l.lang||"en",d(l.description),void 0!==navigator.webdriver&&navigator.webdriver){let{langPart:e,path:t}=c();if(e||(e="en"),document.documentElement.lang!=e){var s=document.createElement("link");s.rel="canonical";let e=t.split(".").join("/");"en"!=document.documentElement.lang?s.href=`https://www.tinygimp.com/${document.documentElement.lang}/${e}`:s.href=`https://www.tinygimp.com/${e}`,document.head.appendChild(s)}}l.tags&&(B.value=l.tags,re(u()))})).catch((e=>{r(t),n.error({content:G("load_template_failed"),duration:0,closable:!0,background:!0})}))}let t=u();re(t),document.addEventListener("langChange",(e=>{re(e.detail.lang)}))})),m((()=>{window.removeEventListener("resize",se)})),(e,t)=>{const a=I,l=A,n=L,s=M,i=H,o=W;return h(),p(x,null,[g(l,null,{default:v((()=>[f("div",F,[f("a",{href:_(w)("")},J,8,P)]),f("div",null,[f("a",{href:_(w)("edit/"),target:"_blank"},[g(a,{icon:"ios-link",type:"text"},{default:v((()=>[f("span",null,y(e.$t("editor")),1)])),_:1})],8,K)]),f("div",null,[f("a",{href:_(w)("text3d/"),target:"_blank"},[g(a,{icon:"ios-link",type:"text"},{default:v((()=>[f("span",null,y(e.$t("text3dGenerator")),1)])),_:1})],8,N)]),f("div",null,[g(q)])])),_:1}),f("div",O,[f("p",Q,y(_(te)),1),f("p",R,y(_(ae)),1),_(ee)?(h(),p("a",{key:0,href:_(le)},[f("div",U,[g(n,{src:_(ee),width:"400px"},null,8,["src"])])],8,S)):b("",!0),f("a",{href:_(le)},[g(a,{type:"success",class:"btn",size:"big",icon:"ios-link"},{default:v((()=>[k(y(e.$t("editTemplate")),1)])),_:1})],8,V)]),_(C).length>0?(h(),p("div",X,y(e.$t("moreTemplate")),1)):b("",!0),g(o,{border:!0,hover:!0,col:_(ie),padding:0},{default:v((()=>[(h(!0),p(x,null,$(_(C),(e=>(h(),E(i,{class:"templateItem",key:e.id,style:j("height:"+_(oe))},{default:v((()=>[f("a",{href:T(e),target:"_blank",style:j("height:"+_(oe))},[g(n,{src:e.thumb,fit:"contain",width:"100%",height:_(oe),alt:e.id,lazy:""},{error:v((()=>[g(s,{type:"ios-image-outline",size:"24"})])),_:2},1032,["src","height","alt"])],12,Y)])),_:2},1032,["style"])))),128))])),_:1},8,["col"]),Z],64)}}}),[["__scopeId","data-v-84aa0518"]]);export{ee as default};
